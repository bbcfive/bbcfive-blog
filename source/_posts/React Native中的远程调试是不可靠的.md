---
title: React Native中的远程调试是不可靠的
date: 2019-04-12 09:10:00
tags: React Native 
categories: 调试测试
---

## 一、原因

当您发现rn app在关闭远程调试后，一些功能无法正常工作时，这很可能是由于设备上的JavaScript执行环境与远程调试器之间的细微差别造成的。

例如，日期问题，Date构造函数似乎接受Chrome远程调试环境中的特定于语言环境的日期格式，但不接受设备上的日期格式。这可能是由于您的计算机的区域设置已设置为使用dd.MM.yyyy格式的文化，而模拟器设置为其他内容，例如en-US。 ISO格式适用于两者，因为无论语言环境如何都支持它。

当您在设备或模拟器上运行代码时，代码将在设备本身的JavaScriptCore中执行。这是React Native在内部用于运行应用程序脚本的JavaScript引擎

当您打开远程调试时，React Native打包程序将改为执行计算机Chrome的JavaScript引擎V8中的代码，并通过WebSockets在浏览器和设备/模拟器之间发送消息。

您遇到了许多使React Native中的远程调试不可靠的边缘情况之一。您应该始终在没有调试器的情况下测试真实设备上的所有功能。

## 二、详细问题记录

1.网络接口无法请求数据

当在一个项目里同时使用fetch和axios时，遇到关闭调试后数据不自动请求的情况。处理办法是：全部换成fetch请求接口